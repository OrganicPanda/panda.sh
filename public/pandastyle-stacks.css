.ğŸ¼-stack-row,
.ğŸ¼-stack-column {
  --ğŸ“-grid-gap: var(--ğŸ“-container-padding);
  --ğŸ“-grid-cols: 12;
  --ğŸ“-grid-col-span: 12;
  display: inline-block;
  width: 100%;
}

.ğŸ¼-stack-inner {
  margin: calc(0px - var(--ğŸ“-grid-gap)) 0 0 calc(0px - var(--ğŸ“-grid-gap));
  display: flex;

  /* Disable pointer-events at this level to prevent the 
     overflow blocking clicks around the grid */
  pointer-events: none;
}

.ğŸ¼-stack-row .ğŸ¼-stack-inner {
  flex-wrap: wrap;
  justify-content: center;
}

.ğŸ¼-stack-column .ğŸ¼-stack-inner {
  flex-direction: column;
  justify-content: center;
  align-items: stretch;
  height: calc(100% + var(--ğŸ“-grid-gap));
}

.ğŸ¼-stack-inner > * {
  /* Re-enable pointer-events at this level */
  pointer-events: auto;
}

/* In theory swapping the margin from left to right for rtl languages should
   prevent overflow and scrollbars */
.ğŸ¼-stack-inner:dir(rtl) {
  margin: calc(0px - var(--ğŸ“-grid-gap)) calc(0px - var(--ğŸ“-grid-gap)) 0 0;
}

.ğŸ¼-stack-item,
.ğŸ¼-stack-col,
.ğŸ¼-stack-fr,
.ğŸ¼-stack-card {
  margin: calc(var(--ğŸ“-grid-gap)) 0 0 calc(var(--ğŸ“-grid-gap));
}

.ğŸ¼-stack-col {
  flex: 0 0
    calc(
      ((100% / var(--ğŸ“-grid-cols)) * var(--ğŸ“-grid-col-span)) -
        var(--ğŸ“-grid-gap)
    );
}

.ğŸ¼-stack-row .ğŸ¼-stack-col {
  max-width: calc(
    ((100% / var(--ğŸ“-grid-cols)) * var(--ğŸ“-grid-col-span)) -
      var(--ğŸ“-grid-gap)
  );
}

.ğŸ¼-stack-column .ğŸ¼-stack-col {
  max-height: calc(
    ((100% / var(--ğŸ“-grid-cols)) * var(--ğŸ“-grid-col-span)) -
      var(--ğŸ“-grid-gap)
  );
}

.ğŸ¼-stack-fr {
  flex-grow: var(--fr);
}

.ğŸ¼-stack-row .ğŸ¼-stack-card {
  width: 100%;
  min-width: 50px;
  max-width: 200px;
}

.ğŸ¼-stack-column .ğŸ¼-stack-card {
  height: 100%;
  min-height: 50px;
  max-height: 200px;
}

/* In theory swapping the margin from left to right for rtl languages should
   prevent overflow and scrollbars */
.ğŸ¼-stack-col:dir(rtl) {
  margin: calc(var(--ğŸ“-grid-gap)) calc(var(--ğŸ“-grid-gap)) 0 0;
}

/* This would be a lot less verbose if `attr()` worked with setting
   custom propery values: https://caniuse.com/#feat=css3-attr */
.ğŸ¼-stack-col-1 {
  --ğŸ“-grid-col-span: 1;
}
.ğŸ¼-stack-col-2 {
  --ğŸ“-grid-col-span: 2;
}
.ğŸ¼-stack-col-3 {
  --ğŸ“-grid-col-span: 3;
}
.ğŸ¼-stack-col-4 {
  --ğŸ“-grid-col-span: 4;
}
.ğŸ¼-stack-col-5 {
  --ğŸ“-grid-col-span: 5;
}
.ğŸ¼-stack-col-6 {
  --ğŸ“-grid-col-span: 6;
}
.ğŸ¼-stack-col-7 {
  --ğŸ“-grid-col-span: 7;
}
.ğŸ¼-stack-col-8 {
  --ğŸ“-grid-col-span: 8;
}
.ğŸ¼-stack-col-9 {
  --ğŸ“-grid-col-span: 9;
}
.ğŸ¼-stack-col-10 {
  --ğŸ“-grid-col-span: 10;
}
.ğŸ¼-stack-col-11 {
  --ğŸ“-grid-col-span: 11;
}
.ğŸ¼-stack-col-12 {
  --ğŸ“-grid-col-span: 12;
}

.ğŸ¼-stack-fr-1 {
  --fr: 1;
}
.ğŸ¼-stack-fr-2 {
  --fr: 2;
}
.ğŸ¼-stack-fr-3 {
  --fr: 3;
}
.ğŸ¼-stack-fr-4 {
  --fr: 4;
}
.ğŸ¼-stack-fr-5 {
  --fr: 5;
}
.ğŸ¼-stack-fr-6 {
  --fr: 6;
}
.ğŸ¼-stack-fr-7 {
  --fr: 7;
}
.ğŸ¼-stack-fr-8 {
  --fr: 8;
}
.ğŸ¼-stack-fr-9 {
  --fr: 9;
}
.ğŸ¼-stack-fr-10 {
  --fr: 10;
}
.ğŸ¼-stack-fr-11 {
  --fr: 11;
}
.ğŸ¼-stack-fr-12 {
  --fr: 12;
}

@media screen and (min-width: 500px) {
  .ğŸ¼-stack-col-md-1 {
    --ğŸ“-grid-col-span: 1;
  }
  .ğŸ¼-stack-col-md-2 {
    --ğŸ“-grid-col-span: 2;
  }
  .ğŸ¼-stack-col-md-3 {
    --ğŸ“-grid-col-span: 3;
  }
  .ğŸ¼-stack-col-md-4 {
    --ğŸ“-grid-col-span: 4;
  }
  .ğŸ¼-stack-col-md-5 {
    --ğŸ“-grid-col-span: 5;
  }
  .ğŸ¼-stack-col-md-6 {
    --ğŸ“-grid-col-span: 6;
  }
  .ğŸ¼-stack-col-md-7 {
    --ğŸ“-grid-col-span: 7;
  }
  .ğŸ¼-stack-col-md-8 {
    --ğŸ“-grid-col-span: 8;
  }
  .ğŸ¼-stack-col-md-9 {
    --ğŸ“-grid-col-span: 9;
  }
  .ğŸ¼-stack-col-md-10 {
    --ğŸ“-grid-col-span: 10;
  }
  .ğŸ¼-stack-col-md-11 {
    --ğŸ“-grid-col-span: 11;
  }
  .ğŸ¼-stack-col-md-12 {
    --ğŸ“-grid-col-span: 12;
  }
}
